import{D as $,H as _,o as i,c as p,F as x,r as E,t as m,d as c,I as S,S as b,m as y,A as L,q as C,J as f,a as d,s as v}from"./index-D1dJA_aa.js";const P=["value"],T=["value"],A={__name:"LanguageSwitcher",setup(r){const t=$(),{locale:u}=_(),n=async e=>{const a=t.currentRoute.value.fullPath;let s=a;e==="en"?s=a.replace(/^\/[a-z]{2}\//,"/"):s=b.some(o=>a.startsWith(`/${o}/`))?a.replace(/^\/[a-z]{2}\//,`/${e}/`):`/${e}${a}`,t.push(s),u.value=e,localStorage.setItem("preferredLocale",e)};return(e,a)=>(i(),p("select",{value:c(u),onChange:a[0]||(a[0]=s=>n(s.target.value))},[(i(!0),p(x,null,E(c(S),s=>(i(),p("option",{key:s.code,value:s.code},m(s.name),9,T))),128))],40,P))}},h=new Map;function F(r){const{locale:t,t:u}=_(),n=y(!1);let e=null;const a=async(l=t.value)=>{const o=`${r}-${l}`;if(!(f.featureLoadStates.get(o)==="loaded"||h.has(o))){e&&e.abort(),e=new AbortController,n.value=!0,h.set(o,e);try{await f.loadFeatureMessages(r,l)}catch(g){g.name!=="AbortError"&&console.error(`Translation load failed for ${o}:`,g)}finally{h.delete(o),n.value=!1,e=null}}},s=L(t,l=>{a(l)});return a(),C(()=>{s(),e&&e.abort()}),{t:(l,o)=>u(`${r}.${l}`,o),isLoading:n,reload:()=>(f.featureLoadStates.delete(`${r}-${t.value}`),a())}}const k={__name:"TestComponent",setup(r){const{t}=_();return(u,n)=>(i(),p("div",null,[d("h1",null,m(c(t)("greeting")),1),d("button",null,m(c(t)("example.hello")),1)]))}},I={__name:"ExampleComponent",setup(r){const{t}=_();return F("example"),(u,n)=>(i(),p("div",null,[v(A),d("h1",null,m(c(t)("greeting")),1),d("button",null,m(c(t)("example.hello")),1),n[0]||(n[0]=d("h4",{class:"underline mt-10"},"Example component",-1)),v(k)]))}};export{I as default};
